# üå§Ô∏è WeatherHub

‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏ö‡∏ö Real-time ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Open-Meteo API

## üåü ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å

### üìä ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î

- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥, ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô, ‡∏•‡∏°, ‡∏ù‡∏ô, ‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®)
- ‡∏Å‡∏£‡∏≤‡∏ü‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á/‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô
- Dark Mode ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤
- Responsive

### üìç ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á

- ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î (Leaflet + OpenStreetMap)
- ‡πÄ‡∏û‡∏¥‡πà‡∏°/‡∏•‡∏ö‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°
- Backfill ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 3 ‡∏ß‡∏±‡∏ô

### üîÑ ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö

- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 2 ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö
- ‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ù‡∏ô
- ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 7 ‡∏ß‡∏±‡∏ô

## üõ†Ô∏è ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ

### Frontend

- Vue 3 + Vite 
- Vue Router 
- Chart.js - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- Leaflet - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
- TailwindCSS - UI Framework
- Axios + Cache - API Client with caching
- SweetAlert2 - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI Notifications
- Lucide Icons - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI Icons

### Backend

- Node.js + Express
- Prisma - Type-safe ORM
- PostgreSQL - Database
- JWT Authentication - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Authentication
- Open-Meteo API - Free Weather API
- Node-Cron - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Scheduled Tasks
- Moment-timezone - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Timezone
- Dotenv - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Environment Variables
- Nodemon - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Development

## üìã ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

- Node.js
- PostgreSQL (‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Docker)
- npm
- Git

## üì¶ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### 1. Clone Repository

```bash
git clone https://github.com/nwpptrs/weather-hub
cd weather-hub
```

### 2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

#### Backend

```bash
cd server
npm install
```

#### Frontend

```bash
cd ../client
npm install
```

### 3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• PostgreSQL

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Docker (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå `docker-compose.yml` ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß:

```bash
# ‡∏£‡∏±‡∏ô PostgreSQL ‡∏î‡πâ‡∏ß‡∏¢ Docker
docker-compose up -d
```

#### ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á PostgreSQL ‡πÅ‡∏ö‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥

**Ubuntu/Debian:**

```bash
sudo apt update
sudo apt install postgresql postgresql-contrib
sudo systemctl start postgresql
```

**macOS:**

```bash
brew install postgresql
brew services start postgresql
```

**Windows:**

- ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å [postgresql.org](https://www.postgresql.org/download)

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**

```bash
# ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà PostgreSQL
psql -U postgres

# ‡∏™‡∏£‡πâ‡∏≤‡∏á Database
CREATE DATABASE mydatabase;

# ‡∏™‡∏£‡πâ‡∏≤‡∏á User
CREATE USER myuser WITH PASSWORD 'mypassword';

# ‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
GRANT ALL PRIVILEGES ON DATABASE mydatabase TO myuser;

# ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å psql
\q
```

### 4. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Environment Variables

#### Backend (.env)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `server/`:

```env
# Database Configuration
DATABASE_URL="postgresql://myuser:mypassword@localhost:5432/mydatabase"

# Authentication
JWT_SECRET="weather_hub_super_secret"
```

> **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
>
> - ‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Docker ‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏±‡∏ö `DATABASE_URL` ‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô `docker-compose.yml`

#### Frontend (.env)

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå `client/`:

```env
VITE_API_URL=http://localhost:3000
```

### 5. ‡∏£‡∏±‡∏ô Database Migration

```bash
cd server
npx prisma migrate dev
```

‡∏´‡∏£‡∏∑‡∏≠

```bash
npx prisma db push
```

## üöÄ ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå

### 1. ‡∏£‡∏±‡∏ô Backend

```bash
cd server
npm run dev
```

Backend ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà `http://localhost:3000`

### 2. ‡∏£‡∏±‡∏ô Frontend

‡πÄ‡∏õ‡∏¥‡∏î Terminal:

```bash
cd client
npm run dev
```

Frontend ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà `http://localhost:5173`

## üå¶Ô∏è Weather Condition Codes

| Code | ‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®          | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢                |
| ---- | ------------------ | ----------------------- |
| 0    | ‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™             | ‡∏ó‡πâ‡∏≠‡∏á‡∏ü‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏°‡∏Ü   |
| 1    | ‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà | ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏ô‡πâ‡∏≠‡∏¢ (1-2 ‡∏™‡πà‡∏ß‡∏ô)    |
| 2    | ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô   | ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (3-5 ‡∏™‡πà‡∏ß‡∏ô) |
| 3    | ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏°‡∏≤‡∏Å           | ‡∏°‡∏µ‡πÄ‡∏°‡∏Ü‡∏°‡∏≤‡∏Å (6-8 ‡∏™‡πà‡∏ß‡∏ô)     |
| 45   | ‡∏´‡∏°‡∏≠‡∏Å               | ‡∏ó‡∏±‡∏®‡∏ô‡∏ß‡∏¥‡∏™‡∏±‡∏¢‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 1 ‡∏Å‡∏°.  |
| 48   | ‡∏´‡∏°‡∏≠‡∏Å‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á        | ‡∏´‡∏°‡∏≠‡∏Å‡πÅ‡∏Ç‡πá‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á  |
| 51   | ‡∏ù‡∏ô‡∏õ‡∏£‡∏≠‡∏¢‡πÄ‡∏ö‡∏≤          | ‚â§ 0.1 mm/hr             |
| 53   | ‡∏ù‡∏ô‡∏õ‡∏£‡∏≠‡∏¢‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á      | 0.1-0.5 mm/hr           |
| 55   | ‡∏ù‡∏ô‡∏õ‡∏£‡∏≠‡∏¢‡∏´‡∏ô‡∏±‡∏Å         | > 0.5 mm/hr             |
| 61   | ‡∏ù‡∏ô‡∏ï‡∏Å‡πÄ‡∏ö‡∏≤            | ‚â§ 2.5 mm/hr             |
| 63   | ‡∏ù‡∏ô‡∏ï‡∏Å‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á        | 2.5-10 mm/hr            |
| 65   | ‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å           | > 10 mm/hr              |
| 95   | ‡∏û‡∏≤‡∏¢‡∏∏‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á     | ‡∏ù‡∏ô‡∏ü‡πâ‡∏≤‡∏Ñ‡∏∞‡∏ô‡∏≠‡∏á‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á        |

## ‚ö° ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

### Cron Job ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

- ‡∏£‡∏±‡∏ô‡∏ó‡∏∏‡∏Å 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á (`0 * * * *`)
- ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Open-Meteo API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡∏≠‡∏á
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡πÉ‡∏ô WeatherHourly
- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡πÉ‡∏ô WeatherDaily

### Cache System

- Frontend: Cache API responses 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- Auto-retry ‡πÄ‡∏°‡∏∑‡πà‡∏≠ network error (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)

### Security

- JWT Authentication (‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ô 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)
- Input Validation

### Error Handling

- API Timeout: 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
- Network Retry: 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (delay 500ms)
- Error Logging & Monitoring
- Graceful Degradation

## üîë ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Login

- **Token Validity:** 1 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á
- **Auto Logout:** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Token ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏

## üì° API Endpoints

### Authentication

| Method | Endpoint          | Description |
| ------ | ----------------- | ----------- |
| `POST` | `/api/login` | Login       |

### Weather Data

| Method | Endpoint              | Description            | Query Params  |
| ------ | --------------------- | ---------------------- | ------------- |
| `GET`  | `/api/weather/latest` | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î  | `location_id` |
| `GET`  | `/api/weather/hourly` | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á 7 ‡∏ß‡∏±‡∏ô | `location_id` |
| `GET`  | `/api/weather/daily`  | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô 7 ‡∏ß‡∏±‡∏ô     | `location_id` |
| `POST`   | `/api/weather/backfill` | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á  | `location_id` |

### Locations

| Method   | Endpoint                      | Description        | Query Params  |
| -------- | ----------------------------- | ------------------ | ------------- |
| `GET`    | `/api/locations`              | ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| `POST`   | `/api/location`              | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà     |
| `DELETE` | `/api/location/:id`          | ‡∏•‡∏ö‡πÄ‡∏°‡∏∑‡∏≠‡∏á            |`location_id` |


## üó∫Ô∏è ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢

| ‡πÄ‡∏°‡∏∑‡∏≠‡∏á     | Latitude | Longitude |
| --------- | -------- | --------- |
| ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û   | 13.7563  | 100.5018  |
| ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà | 18.7883  | 98.9853   |
| ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï    | 7.8804   | 98.3923   |
| ‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô   | 16.4322  | 102.8236  |

## üîß Database Schema

```prisma
model Location {
  id            Int             @id @default(autoincrement())
  name          String
  lat           Float
  lon           Float
  timezone      String
  weatherHourly WeatherHourly[]
  weatherDaily  WeatherDaily[]
}

model WeatherHourly {
  id          Int      @id @default(autoincrement())
  timestamp   DateTime
  temperature Float
  humidity    Float
  windspeed   Float?
  rain        Float?
  condition   Int?
  location_id Int
  location    Location @relation(fields: [location_id], references: [id])

  @@unique([location_id, timestamp])
}

model WeatherDaily {
  id          Int      @id @default(autoincrement())
  date        DateTime
  temp_max    Float
  temp_min    Float
  rain_sum    Float
  location_id Int
  location    Location @relation(fields: [location_id], references: [id])

  @@unique([location_id, date])
}
```
